<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="copyright" content="Copyright Â© 2024 World Meteorological Organization (WMO)">
<title>WMO WIS2 Notification Message Encoding</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>WMO WIS2 Notification Message Encoding</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">World Meteorological Organization</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Date: 2024-10-23</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: 1.0.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document location: TBD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document status: DRAFT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Standing Committee on Information Management and Technology (SC-IMT)<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Commission for Observation, Infrastructure and Information Systems (INFCOM)<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright Â© 2024 World Meteorological Organization (WMO)</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#_conformance">2. Conformance</a></li>
<li><a href="#_references">3. References</a></li>
<li><a href="#_terms_and_definitions">4. Terms and definitions</a>
<ul class="sectlevel2">
<li><a href="#_abbreviated_terms">4.1. Abbreviated terms</a></li>
</ul>
</li>
<li><a href="#_conventions">5. Conventions</a>
<ul class="sectlevel2">
<li><a href="#_identifiers">5.1. Identifiers</a></li>
<li><a href="#_examples">5.2. Examples</a></li>
<li><a href="#_schemas">5.3. Schemas</a></li>
<li><a href="#_schema_representation">5.4. Schema representation</a>
<ul class="sectlevel3">
<li><a href="#_properties">5.4.1. Properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_introduction">6. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_motivation">6.1. Motivation</a></li>
<li><a href="#_scenarios">6.2. Scenarios</a>
<ul class="sectlevel3">
<li><a href="#_publish_subscribe_download">6.2.1. Publish, Subscribe, Download</a></li>
<li><a href="#_replay_api_workflow">6.2.2. Replay API workflow</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_wis2_notification_message">7. WIS2 Notification Message</a>
<ul class="sectlevel2">
<li><a href="#_1_requirements_class_core">1. Requirements Class "Core"</a>
<ul class="sectlevel3">
<li><a href="#_1_1_overview">1.1 Overview</a></li>
<li><a href="#_1_2_message_size">1.2 Message size</a></li>
<li><a href="#_1_3_geojson_compliance">1.3 GeoJSON compliance</a></li>
<li><a href="#_1_4_identifier">1.4 Identifier</a></li>
<li><a href="#_1_5_conformance">1.5 Conformance</a></li>
<li><a href="#_1_6_version">1.6 Version</a></li>
<li><a href="#_1_7_geometry">1.7 Geometry</a></li>
<li><a href="#_1_8_properties_publication_time">1.8 Properties / Publication time</a></li>
<li><a href="#_1_9_properties_data_identification">1.9 Properties / Data identification</a></li>
<li><a href="#_1_10_properties_metadata_identification">1.10 Properties / Metadata identification</a></li>
<li><a href="#_1_11_properties_producer">1.11 Properties / Producer</a></li>
<li><a href="#_1_12_properties_temporal_description">1.12 Properties / Temporal description</a></li>
<li><a href="#_1_13_properties_cache">1.13 Properties / Cache</a></li>
<li><a href="#_1_14_properties_integrity">1.14 Properties / Integrity</a></li>
<li><a href="#_1_15_properties_content">1.15 Properties / Content</a></li>
<li><a href="#_1_16_links">1.16 Links</a></li>
<li><a href="#_1_17_additional_properties">1.17 Additional properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_2_wis2_notification_message_resources">2. WIS2 notification message resources</a>
<ul class="sectlevel2">
<li><a href="#_2_1_wmo_codes_registry">2.1 WMO Codes Registry</a></li>
<li><a href="#_2_2wmo_schemas_server">2.2	WMO schemas server</a></li>
</ul>
</li>
<li><a href="#_conformance_class_abstract_test_suite_normative">Annex A: Conformance Class Abstract Test Suite (Normative)</a>
<ul class="sectlevel2">
<li><a href="#_conformance_class_core">Conformance Class: Core</a>
<ul class="sectlevel3">
<li><a href="#_message_size">Message size</a></li>
<li><a href="#_validation">Validation</a></li>
<li><a href="#_identifier">Identifier</a></li>
<li><a href="#_conformance_2">Conformance</a></li>
<li><a href="#_version">Version</a></li>
<li><a href="#_geometry">Geometry</a></li>
<li><a href="#_properties_publication_time">Properties / Publication Time</a></li>
<li><a href="#_properties_data_identification">Properties / Data Identification</a></li>
<li><a href="#_properties_temporal_description">Properties / Temporal description</a></li>
<li><a href="#_links">Links</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#schemas">Annex B: Schemas (Normative)</a>
<ul class="sectlevel2">
<li><a href="#_wis2_notification_message_schema">WIS2 Notification Message Schema</a></li>
</ul>
</li>
<li><a href="#examples">Annex C: Examples (Informative)</a>
<ul class="sectlevel2">
<li><a href="#_wis2_notification_message_examples">WIS2 Notification Message Examples</a></li>
</ul>
</li>
<li><a href="#Bibliography">Annex D: Bibliography</a></li>
<li><a href="#_revision_history">Annex E: Revision History</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph">
<p>WIS2 real-time data sharing is based on a message queuing protocol (MQP) supporting a
publication/subscription (PubSub) mechanism.  A user can subscribe to an MQP broker to receive
real-time notifications of the existence of new data.  The notification message received from
the MQP broker contains a URL to download the data.  In addition, the MQP broker offers a
range of topics organised in a hierarchy. The users can select their topics of interest and
subscribe to them to receive notifications and download data relevant to their work.</p>
</div>
<div class="paragraph">
<p>The standard notification message format ensures that the WIS2 ecosystem (data publisher, data
user, and global services) is a robust, effective, and unified exchange platform for weather,
climate, and water data.</p>
</div>
<div class="paragraph">
<p>This document defines the content, structure, and encoding for the WIS2 Notification Message
Encoding.  This standard is an extension of the OGC API - Features standard <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.
WIS2 Notification Message documents are provided as MQP payloads by WIS2 nodes, Global Broker services, as well
as Replay API services (optional OGC API - Features services for data notifications).</p>
</div>
<div class="paragraph">
<p>WIS2 Notification Message documents shall be encoded in GeoJSON (RFC7946 <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>) as
defined in this specification and shall be made available as MQP payloads.  Additionally, they can be provisioned as defined
by OGC API - Features.</p>
</div>
<div class="paragraph">
<p>Weather/climate/water data is by nature geospatial and temporal.  The W3C Data on the Web Best
Practices <sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup> and Spatial Data on the Web Best Practices <sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup> publications
provide guidelines on how to best enable spatiotemporal data to lower the barrier for users, search engine optimization, and linked data.  This also aligns with the FAIR data principles (Findable, Accessible, Interoperable, Reusable) <sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup>.</p>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>The following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>wmo, wis 2.0, weather, climate, water, metadata, pubsub, mqp, message queuing protocol, GeoJSON</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.    Security Considerations</strong></p>
</div>
<div class="paragraph">
<p>Based on the WMO Unified Data Policy for the International Exchange of Earth System Data (Resolution 1 (Cg-Ext(2021) <sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup>, exchanged data are classified as <code>core</code> or <code>recommended</code>.  Core data is considered fully open and unrestricted with no security considerations.  Recommended data may have access control defined.</p>
</div>
<div class="paragraph">
<p>No security considerations have been made for this standard.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document defines the content, structure, and encoding of a notification message published
as part of a WIS2 Global Broker or a Replay API service.</p>
</div>
<div class="paragraph">
<p>The WIS2 Notification Message Encoding standard defined herein is an extension of the International Standard <em>GeoJSON</em>.</p>
</div>
<div class="paragraph">
<p>WIS2 Notification Message documents shall be encoded as GeoJSON as defined in <em>OGC API - Features - Part 1: Core</em>.</p>
</div>
<div class="paragraph">
<p>The primary purpose of WIS2 Notification Messages are to notify subscribers or clients of new data being published.</p>
</div>
<div class="paragraph">
<p>This specification defines the conformance requirements for the WIS2 Notification Message Encoding.  Annex A defines the abstract test suite.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance"><a class="anchor" href="#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Conformance with this standard shall be checked using the tests specified in Annex A (normative) of this document.</p>
</div>
<div class="paragraph">
<p><em>GeoJSON</em> provides an encoding for encoding geographic features (geometry, attributes).  This standard is an extension of <em>GeoJSON</em>.</p>
</div>
<div class="paragraph">
<p>Data providers are required to comply with all conformance classes of this specification in support
of providing MQP services.</p>
</div>
<div class="paragraph">
<p>WMO shall publish guidance material to assist data providers in constructing WIS2 Notification Messages.</p>
</div>
<div class="paragraph">
<p>This standard identifies one Requirements Class which defines the functional requirements.</p>
</div>
<div class="paragraph">
<p>The mandatory Requirements Class for this specification is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"WIS2 Notification Message Encoding Core"</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="ogcapi-features"></a> OGC: OGC 17-069r, OGC API - Features - Part 1: Core 1.0.1 (2022) <sup class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup></p>
</li>
<li>
<p><a id="rfc7946"></a> IETF: RFC-7946 The GeoJSON Format (2016) <sup class="footnote">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup></p>
</li>
<li>
<p><a id="rfc8259"></a> IETF: RFC-8259 The JavaScript Object Notation (JSON) Data Interchange Format (2017) <sup class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup></p>
</li>
<li>
<p><a id="rfc3339"></a> IETF: RFC 3339: Date and Time on the Internet: Timestamps (2002) <sup class="footnote">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup></p>
</li>
<li>
<p><a id="rfc4122"></a> IETF: RFC 4122: A Universally Unique IDentifier (UUID) URN Namespace (2005) <sup class="footnote">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup></p>
</li>
<li>
<p>W3C/OGC: Spatial Data on the Web Best Practices, W3C Working Group Note (2017) <sup class="footnote">[<a id="_footnoteref_14" class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup></p>
</li>
<li>
<p>W3C: Data on the Web Best Practices, W3C Recommendation (2017) <sup class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup></p>
</li>
<li>
<p>W3C: Data Catalog Vocabulary, W3C Recommendation (2014) <sup class="footnote">[<a id="_footnoteref_16" class="footnote" href="#_footnotedef_16" title="View footnote.">16</a>]</sup></p>
</li>
<li>
<p>IANA: Link Relation Types (2020) <sup class="footnote">[<a id="_footnoteref_17" class="footnote" href="#_footnotedef_17" title="View footnote.">17</a>]</sup></p>
</li>
<li>
<p><a id="json-schema"></a> IETF: JSON Schema (2022) <sup class="footnote">[<a id="_footnoteref_18" class="footnote" href="#_footnotedef_18" title="View footnote.">18</a>]</sup></p>
</li>
<li>
<p><a id="wis2-topic-hierarchy"></a> WMO: WIS2 Topic Hierarchy (2022) <sup class="footnote">[<a id="_footnoteref_19" class="footnote" href="#_footnotedef_19" title="View footnote.">19</a>]</sup></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4. Terms and definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document uses the terms defined in <a href="https://portal.ogc.org/public_ogc/directives/directives.php">OGC Policy Directive 49</a>, which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word âshallâ (not âmustâ) is the verb form used to indicate a requirement to be strictly followed to conform to this Standard and OGC documents do not use the equivalent phrases in the ISO/IEC Directives, Part 2.</p>
</div>
<div class="paragraph">
<p>This document also uses terms defined in the OGC Standard for Modular specifications (<a href="https://portal.opengeospatial.org/files/?artifact_id=34762">OGC 08-131r3</a>), also known as the 'ModSpec'. The definitions of terms such as standard, specification, requirement, and conformance test are provided in the ModSpec.</p>
</div>
<div class="paragraph">
<p>The following additional terms and definitions also apply.</p>
</div>
<div class="sect2">
<h3 id="_abbreviated_terms"><a class="anchor" href="#_abbreviated_terms"></a>4.1. Abbreviated terms</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Symbols and abbreviated terms</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Abbreviation</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Term</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">API</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Application Programming Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">DCPC</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Data Collection and Production Centres</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GDC</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Global Discovery Catalogue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GIS</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Geographic Information System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">GISC</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Global Information System Centre</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">HTML</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Hypertext Markup Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">HTTP</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Hypertext Transfer Protocol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">HTTPS</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Hypertext Transfer Protocol Secure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">IANA</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internet Assigned Numbers Authority</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">IETF</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internet Engineering Task Force</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">ISO</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">International Organization for Standardization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">JSON</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">JavaScript Object Notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">MQP</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Message Queuing Protocol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">MQTT</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Message Queuing Telemetry Transport</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NC</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">National Centre</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">NWP</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Numerical Weather Prediction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">OGC</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">PubSub</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publish / Subscribe</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">URI</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Uniform Resource Identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Uniform Resource Locator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">UUID</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Universally Unique Identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">W3C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">World Wide Web Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WCMP</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WMO Core Metadata Profile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WIS</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WMO Information System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WMO</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">World Meteorological Organization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WNM</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">WIS2 notification message</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions"><a class="anchor" href="#_conventions"></a>5. Conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides details and examples for any conventions used in the document. Examples of conventions are symbols, abbreviations, use of JSON schema, or special notes regarding how to read the document.</p>
</div>
<div class="sect2">
<h3 id="_identifiers"><a class="anchor" href="#_identifiers"></a>5.1. Identifiers</h3>
<div class="paragraph">
<p>The normative provisions in this Standard are denoted by the URI:</p>
</div>
<div class="paragraph">
<p><a href="http://wis.wmo.int/spec/wnm/1" class="bare">http://wis.wmo.int/spec/wnm/1</a></p>
</div>
<div class="paragraph">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>5.2. Examples</h3>
<div class="paragraph">
<p>Examples provided in this specification are encoded as GeoJSON.</p>
</div>
<div class="paragraph">
<p>Complete examples can be found at <a href="https://schemas.wmo.int/wnm/1.0.0/examples" class="bare">https://schemas.wmo.int/wnm/1.0.0/examples</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_schemas"><a class="anchor" href="#_schemas"></a>5.3. Schemas</h3>
<div class="paragraph">
<p>The WIS2 Notification Message schema can be found at <a href="https://schemas.wmo.int/wnm/1.0.0/schemas/wis2-notification-message-bundled.json" class="bare">https://schemas.wmo.int/wnm/1.0.0/schemas/wis2-notification-message-bundled.json</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_schema_representation"><a class="anchor" href="#_schema_representation"></a>5.4. Schema representation</h3>
<div class="paragraph">
<p>JSON Schema <sup class="footnote">[<a id="_footnoteref_20" class="footnote" href="#_footnotedef_20" title="View footnote.">20</a>]</sup> objects are used throughout this standard to define the structure
of metadata records. These schema objects are also typically represented using YAML <sup class="footnote">[<a id="_footnoteref_21" class="footnote" href="#_footnotedef_21" title="View footnote.">21</a>]</sup>.
YAML is a superset of JSON, and in this standard are regarded as equivalent.</p>
</div>
<div class="paragraph">
<p>Metadata record instances are always defined as JSON.</p>
</div>
<div class="sect3">
<h4 id="_properties"><a class="anchor" href="#_properties"></a>5.4.1. Properties</h4>
<div class="paragraph">
<p>A JSON <strong>property</strong> represents a key-value pair, where the key is the name of the property and the value is a standard JSON data type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"myPropertyName": "test123"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>6. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A WIS2 Notification Message (WNM) provides descriptive information about data or metadata made available through WIS 2.0. The standard notification message format ensures that the WIS2 ecosystem (data publisher, data user, and global services) is a robust, effective, and unified data exchange platform for weather, climate, and water.</p>
</div>
<div class="paragraph">
<p>WIS2 Notification Message documents are provided as MQP payloads by WIS2 nodes, Global Broker services, as well as Replay API services.</p>
</div>
<div class="paragraph">
<p>A WNM provides notification metadata about data or metadata published to WIS2, including when the data was published, its spatial and temporal characteristics, and where to access and download.</p>
</div>
<div class="sect2">
<h3 id="_motivation"><a class="anchor" href="#_motivation"></a>6.1. Motivation</h3>
<div class="paragraph">
<p>MQP brokers provide "push" based services, supporting event-driven workflows, maximizing efficient
use of network, bandwidth, and rapid response to time-sensitive events (e.g. severe weather events).
However, MQP brokers do not specify a payload encoding.  Using GeoJSON as a baseline for this specification
provides broad interoperability, lowering the barrier and extending the reach of data in the WIS2
ecosystem and beyond.</p>
</div>
</div>
<div class="sect2">
<h3 id="_scenarios"><a class="anchor" href="#_scenarios"></a>6.2. Scenarios</h3>
<div class="paragraph">
<p>The following scenarios are useful in understanding the drivers and principles that were used in the
development of this specification:</p>
</div>
<div class="sect3">
<h4 id="_publish_subscribe_download"><a class="anchor" href="#_publish_subscribe_download"></a>6.2.1. Publish, Subscribe, Download</h4>
<div class="paragraph">
<p>Event driven (PubSub) workflow involves a client connecting to a MQP broker, subscribing to one or more
topics and receiving relevant notifications.  Notifications provide information to ensure data integrity
and spatiotemporal extents of a data granule.</p>
</div>
</div>
<div class="sect3">
<h4 id="_replay_api_workflow"><a class="anchor" href="#_replay_api_workflow"></a>6.2.2. Replay API workflow</h4>
<div class="paragraph">
<p>API workflow involves a client connecting to an OGC API - Features services in order to query for messages
in the past using spatial, temporal, or attribute predicates.  A Replay API workflow is valuable in
situations where connections to MQP brokers may drop, thereby allowing a given subscriber to gather past
messages.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wis2_notification_message"><a class="anchor" href="#_wis2_notification_message"></a>7. WIS2 Notification Message</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Note: This section of working draft document is the same as Appendix E in the <a href="https://library.wmo.int/idurl/4/68731"><em>Manual on the WMO Information System</em></a> (WMO-No. 1060), Volume II.</p>
</div>
<div class="paragraph">
<p>The WIS2 Notification Message (WNM) is an extension of the Open Geospatial Consortium <em>OGC API - Features</em> standard and shall be encoded in GeoJSON. The normative provisions in the WIS2 Notification Message are denoted by the base URI (<code><a href="http://wis.wmo.int/spec/wnm/1" class="bare">http://wis.wmo.int/spec/wnm/1</a></code>) and requirements are denoted by partial URIs relative to this base. Property names, values and examples are represented with <code>shaded</code> text in this document.</p>
</div>
<div class="sect2">
<h3 id="_1_requirements_class_core"><a class="anchor" href="#_1_requirements_class_core"></a>1. Requirements Class "Core"</h3>
<table id="rc_core" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">URI</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://wis.wmo.int/spec/wnm/1/req/core" class="bare">http://wis.wmo.int/spec/wnm/1/req/core</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Notification metadata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The JavaScript Object Notation (JSON) Data Interchange Format (<a href="https://datatracker.ietf.org/doc/html/rfc8259">IETF RFC8259 (2017)</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="https://json-schema.org/">JSON Schema</a> (2022)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The GeoJSON Format (<a href="https://datatracker.ietf.org/doc/html/rfc7946">IETF: RFC-7946 (2016)</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">OGC API â Features â Part 1: Core corrigendum (<a href="https://docs.opengeospatial.org/is/17-069r4/17-069r4.html">OGC: OGC 17-069r</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Preconditions</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The record conforms to GeoJSON (RFC7946)</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_1_1_overview"><a class="anchor" href="#_1_1_overview"></a>1.1 Overview</h4>
<div class="paragraph">
<p>The table below provides an overview of the set of properties that may be included in a WNM.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. WNM core properties</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Property</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Requirement</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A universally unique identifier (UUID) of the message (see <a href="#_1_4_identifier">1.4 Identifier</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A fixed value denoting the record as a GeoJSON <code>Feature</code> (see <a href="#_1_3_geojson_compliance">1.3 GeoJSON compliance</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>conformsTo</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong> (one of <code>conformsTo</code> or <code>version</code>)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The version of WNM associated that the record conforms to (see <a href="#_1_5_conformance">1.5 Conformance</a>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong> (one of <code>conformsTo</code> or <code>version</code>)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>DEPRECATED</strong>  Please use <code>conformsTo</code> (see <a href="#_1_5_conformance">1.5 Conformance</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>geometry</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Geospatial location associated with the data or metadata (see <a href="#_1_7_geometry">1.7 Geometry</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.pubtime</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The date and time when the notification was published, in RFC3339 format, Coordinated Universal Time (UTC) (see <a href="#_1_8_properties_publication_time">1.8 Properties / Publication time</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.data_id</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Unique identifier of the data as defined by the data producer (see <a href="#_1_9_properties_data_identification">1.9 Properties / Data identification</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.metadata_id</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Identifier for associated discovery metadata record to which the notification applies (see <a href="#_1_10_properties_metadata_identification">1.10 Properties / Metadata identification</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.producer</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Identifies the provider that initially captured and processed the source data, in support of data distribution on behalf of other Members (see <a href="#_1_11_properties_producer">1.11 Properties / Producer</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.datetime</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Identifies the reference date and time of the data instance to which the notification is relayed, in RFC3339 format, UTC (see <a href="#_1_12_properties_temporal_description">1.12 Properties / Temporal description</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.start_datetime</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Identifies the start date and time of the data being published, in RFC3339 format (see <a href="#_1_12_properties_temporal_description">1.12 Properties / Temporal description</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.end_datetime</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Identifies the end date and time of the data being published, in RFC3339 format (see <a href="#_1_12_properties_temporal_description">1.12 Properties / Temporal description</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.cache</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Indicates whether the data in the notification should be cached (if not specified, the default value is <code>true</code>) (see <a href="#_1_13_properties_cache">1.13 Properties / Cache</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.integrity</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Specifies a checksum to be applied to the data to ensure that the download is accurate (see <a href="#_1_14_properties_integrity">1.14 Properties / Integrity</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>properties.content</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Used to embed small products inline within the message (see <a href="#_1_15_properties_content">1.15 Properties / Content</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><code>links</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Required</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Online linkages for data retrieval or additional resources associated with the dataset (see <a href="#_1_16_links">1.16 Links</a>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_2_message_size"><a class="anchor" href="#_1_2_message_size"></a>1.2 Message size</h4>
<div class="paragraph">
<p>The WIS2 Notification Message allows for the transmission of messages in a compact manner and includes the ability to embed content inline as required (see <a href="#_1_15_properties_content">1.15 Properties / Content</a>).</p>
</div>
<table id="req_core_message_size" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/message_size</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM message SHALL NOT exceed 8 192 bytes.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_3_geojson_compliance"><a class="anchor" href="#_1_3_geojson_compliance"></a>1.3 GeoJSON compliance</h4>
<div class="paragraph">
<p>The WIS2 Notification Message schema is based on <em>GeoJSON</em> (RFC7946) and its associated information model.  Compliant messages are therefore compliant with <em>GeoJSON</em>.</p>
</div>
<table id="req_core_validation" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/validation</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each WNM SHALL validate without error against the WNM schema.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each WNM SHALL provide <code>id</code>, <code>type</code>, <code>geometry</code> and <code>properties</code> properties for GeoJSON compliance.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>Each WNM record <code>type</code> property SHALL be set to a fixed value of <code>Feature</code> for GeoJSON compliance.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_4_identifier"><a class="anchor" href="#_1_4_identifier"></a>1.4 Identifier</h4>
<div class="paragraph">
<p>A universally unique identifier of the message is generated by the originator of the message, using the UUID standard (<a href="https://datatracker.ietf.org/doc/html/rfc4122">RFC4122</a>). It provides the anti-loop feature that is needed to ensure that the message will be seen once by all Global Brokers. It remains the same throughout the lifetime of the message in the WIS2 ecosystem.</p>
</div>
<div class="paragraph">
<p>The <code>data_id</code> is retained to ensure traceability and consistency of the same resource (see <a href="#_1_9_properties_data_identification">1.9 Properties / Data identification</a>).</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"id": "31e9d66a-cd83-4174-9429-b932f1abe1be"</code></pre>
</div>
</div>
<table id="req_core_identifier" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/identifier</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>id</code> property SHALL be a Universally Unique Identifier (UUID).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_5_conformance"><a class="anchor" href="#_1_5_conformance"></a>1.5 Conformance</h4>
<div class="paragraph">
<p>The <code>conformsTo</code> property to identifies the version of the WNM standard to which the notification conforms. Conformance identification is valuable for version
detection and handling of content.</p>
</div>
<div class="listingblock">
<div class="title">Example:</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"conformsTo": [
  "http://wis.wmo.int/spec/wnm/1/conf/core"
]</code></pre>
</div>
</div>
<table id="req_core_conformance" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/conformance</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHALL provide information on conformance via the OAFeat <code>conformsTo</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>conformsTo</code> property SHALL advertise conformance to WNM.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_6_version"><a class="anchor" href="#_1_6_version"></a>1.6 Version</h4>
<div class="paragraph">
<p><strong>DEPRECATED</strong>  Please use <code>conformsTo</code>.</p>
</div>
<div class="paragraph">
<p>The <code>version</code> property provides the version of WNM that the message conforms to.</p>
</div>
<table id="req_core_version" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/version</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHALL provide information on version conformance via the <code>version</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>version</code> property SHALL be fixed to <code>v04</code> for this version of the specification.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_7_geometry"><a class="anchor" href="#_1_7_geometry"></a>1.7 Geometry</h4>
<div class="paragraph">
<p>The type of geometry in a notification message may be <code>Point</code> or <code>Polygon</code>. It can also be type <code>null</code> if the geometry cannot be derived.</p>
</div>
<div class="listingblock">
<div class="title">Example: Point</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  ...
  "geometry": {
    "type": "Point",
    "coordinates": [
      6.146255135536194,
      46.223296618227444
    ]
  }
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Point with elevation</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  ...
  "geometry": {
    "type": "Point",
    "coordinates": [
      6.146255135536194,
      46.223296618227444,
      392
    ]
  }
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Polygon</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  ...
  "geometry": {
    "type": "Polygon",
    "coordinates": [[
      [-7.75,40.43],
      [-7.75,78.46],
      [71.91,78.46],
      [71.91,40.43],
      [-7.75,40.43]
    ]]
  }
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: null</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  ...
  "geometry": null
  ...
}</code></pre>
</div>
</div>
<table id="req_core_geometry" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/geometry</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM record SHALL provide one geometry property to convey the geospatial properties of a notification using a geographic coordinate reference system (World Geodetic System 1984 [WGS 84]) with longitude and latitude decimal degree units.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>geometry</code> property SHALL only provide one of a <code>Point</code> or <code>Polygon</code> geometry, or a <code>null</code> value when a geometry value is unknown or cannot be determined.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_core_geometry" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/geometry</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>geometry</code> property MAY provide a third element (height) as per clause 4 of the GeoJSON specification.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_8_properties_publication_time"><a class="anchor" href="#_1_8_properties_publication_time"></a>1.8 Properties / Publication time</h4>
<div class="paragraph">
<p>The <code>pubtime</code> property identifies the date/time when the notification was first posted or published by the originator. The date/time is encoded in RFC3339 format, using UTC (<code>Z</code>).</p>
</div>
<div class="paragraph">
<p>The publication date/time is critical for subscribers. It prevents message loss by providing awareness among subscribers about how far behind the publisher they may be.</p>
</div>
<div class="paragraph">
<p>The <code>pubtime</code> property is also valuable for change detection as part of updates and deletion notifications.</p>
</div>
<div class="paragraph">
<p>Ensuring that <code>pubtime</code> is properly managed for updates and deletions is important for data and metadata download workflows.
For example, an out-of-date <code>pubtime</code> can lead to errors for clients when managing updates or deletions in their local copies of data.
An update with a newer <code>pubtime</code> and identical <code>datetime</code> indicates a newer version of the data or metadata.</p>
</div>
<div class="paragraph">
<p><em>Example:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "pubtime": "2022-03-20T04:50:18.314854383Z"
  ...
}</code></pre>
</div>
</div>
<table id="req_core_pubtime" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/pubtime</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHALL provide a <code>properties.pubtime</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.pubtime</code> property SHALL be in RFC3339 format.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.pubtime</code> property SHALL be in UTC.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.pubtime</code> property SHALL be set to the current time by the original publisher of the notification.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.pubtime</code> property SHALL be set to the current time also for notifications about updates or deletions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.pubtime</code> property SHALL NOT be modified by any intermediaries.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_9_properties_data_identification"><a class="anchor" href="#_1_9_properties_data_identification"></a>1.9 Properties / Data identification</h4>
<div class="paragraph">
<p>The <code>data_id</code> property uniquely identifies the data described by the notification and is defined by the data producer. A data producer may use an identification scheme of their choice.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "data_id": "wis2/ma-marocmeteo/data/core/weather/surface-based-observations/synop/WIGOS_0-504-1-60288_20240210T130000"
  ...
}</code></pre>
</div>
</div>
<table id="req_core_data_id" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 8</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/data_id</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHALL provide a <code>properties.data_id</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.data_id</code> property SHALL be unique within the scope of the relevant dataset.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_core_data_id" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 1</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/core/data_id</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.data_id</code> property SHOULD NOT use an opaque id. It should be encoded with meaningful values to support client-side filtering.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_core_data_id" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/data_id</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>properties.data_id</code> property MAY contain a valid WIS2 topic, without the channel and version.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_10_properties_metadata_identification"><a class="anchor" href="#_1_10_properties_metadata_identification"></a>1.10 Properties / Metadata identification</h4>
<div class="paragraph">
<p>The <code>metadata_id</code> property uniquely identifies the associated discovery metadata record. This property is an important linkage between a WMO Core Metadata Profile (WCMP) dataset discovery metadata record and the related data notifications. The inclusion of this property allows a subscriber to consult additional documentation of the dataset and understand the access control applied to the data.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "metadata_id": "urn:wmo:md:ca-eccc-msc:observations.swob"
  ...
}</code></pre>
</div>
</div>
<table id="rec_core_metadata_id" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 2</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/core/metadata_id</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHOULD provide a <code>properties.metadata_id</code> property that identifies the associated WCMP dataset discovery metadata record. See requirement for metadata identification in WCMP (Appendix F, 1.4 Identifier).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_core_metadata_id" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/metadata_id</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM MAY provide additional identifiers to discovery metadata records in non-WIS2 catalogue systems as a link object with (<code>rel=related</code> or <code>rel=up</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_11_properties_producer"><a class="anchor" href="#_1_11_properties_producer"></a>1.11 Properties / Producer</h4>
<div class="paragraph">
<p>The <code>producer</code> property identifies the provider that initially captured and processed the source data, in support of data distribution on behalf of other Members.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "producer": "fra"
  ...
}</code></pre>
</div>
</div>
<table id="rec_core_producer" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 3</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/core/producer</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHOULD provide a <code>properties.producer</code> property when publishing data on behalf of other Members.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_12_properties_temporal_description"><a class="anchor" href="#_1_12_properties_temporal_description"></a>1.12 Properties / Temporal description</h4>
<div class="paragraph">
<p>The <code>datetime</code> property identifies the date and time of the data (for example, when a measurement was observed).
When data or metadata are updated or deleted, this value should identify the original data or metadata, which can be significantly different from the current time.</p>
</div>
<div class="paragraph">
<p>The <code>start_datetime</code> and <code>end_datetime</code> properties identify a temporal extent (for example, the start and end times of an NWP forecasting period). All dates and times are encoded in RFC3339 format using UTC (<code>Z</code>). A <code>null</code> value can also be used if a temporal description of the data cannot be derived.</p>
</div>
<div class="listingblock">
<div class="title">Example: Temporal instant</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "datetime": "2022-03-20T04:45:00Z"
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Temporal extent</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "start_datetime": "2022-03-20T04:45:00Z",
  "end_datetime": "2022-03-22T04:45:00Z"
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: No temporal description</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  "datetime": null,
  ...
}</code></pre>
</div>
</div>
<table id="req_core_temporal" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 9</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/temporal</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHALL provide a temporal description by either a <code>properties.datetime</code> property or both the <code>properties.start_datetime</code> and <code>properties.end_datetime</code> properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The temporal description SHALL be in RFC3339 format.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The temporal description SHALL be in UTC.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The temporal description SHALL be set to <code>null</code> (using only <code>properties.datetime</code>) when a temporal description cannot be derived.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_13_properties_cache"><a class="anchor" href="#_1_13_properties_cache"></a>1.13 Properties / Cache</h4>
<div class="paragraph">
<p>Core data, by default, is cached by Global Cache services, as described in the <em>Guide to WIS</em>, Volume II.</p>
</div>
<div class="paragraph">
<p>However, a data producer can use the <code>properties.cache</code> value to request Global Cache services to not cache their <code>core</code> data granule.</p>
</div>
<div class="listingblock">
<div class="title">Example: Specifying data not to be cached</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  "cache": false,
  ...
}</code></pre>
</div>
</div>
<table id="per_core_cache" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/cache</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM MAY specify, via the <code>properties.cache</code> property, whether the data should be cached .</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_14_properties_integrity"><a class="anchor" href="#_1_14_properties_integrity"></a>1.14 Properties / Integrity</h4>
<div class="paragraph">
<p>For data verification, it is recommended that data integrity information to be included via the <code>integrity</code> property.  Providing this information will allow data consumers to ensure
that a given data granule has not been corrupted during download.</p>
</div>
<div class="paragraph">
<p>The <code>method</code> property provides a format of the hashing method used to enable an integrity check of the data. The preferred values
are <code>sha256</code>, <code>sha384</code>, <code>sha512</code>, <code>sha3-256</code>, <code>sha3-384</code>, and <code>sha3-512</code>.</p>
</div>
<div class="paragraph">
<p>The <code>value</code> property provides the result of the hashing method in base64 encoding.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "integrity": {
    "method": "sha512",
    "value": "CPvTLiOfYRgfL3YNF/KKElwamwvLQwnzd96VnF2WoYuuH+hVIbwFSPQHHd/qa/fNVUBckviC5/HZs3Nx2jXEsA=="
  }
  ...
}</code></pre>
</div>
</div>
<table id="rec_core_integrity" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 4</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/core/integrity</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHOULD provide a <code>properties.integrity</code> property, consisting of a <code>method</code> property identifying the hashing method (<code>sha256</code>, <code>sha384</code>, <code>sha512</code>, <code>sha3-256</code>, <code>sha3-384</code>, <code>sha3-512</code>) and a <code>value</code> property of the hashing result, when it can be easily derived.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_15_properties_content"><a class="anchor" href="#_1_15_properties_content"></a>1.15 Properties / Content</h4>
<div class="paragraph">
<p>The <code>content</code> property allows for the inclusion of data in the notification message when the length of the data, once encoded, is smaller than 4 096 bytes.</p>
</div>
<div class="paragraph">
<p>The <code>encoding</code> property provides the character encoding of the data (<code>UTF-8</code>, <code>base64</code> or <code>gzip</code>). The <code>gzip</code> encoding means that the data are compressed using the algorithm defined in <a href="https://datatracker.ietf.org/doc/html/rfc1952">RFC1952</a> and consequently converted to text using Base64 encoding.</p>
</div>
<div class="paragraph">
<p>The <code>value</code> property provides the data in accordance with the <code>encoding</code> property.</p>
</div>
<div class="paragraph">
<p>The <code>size</code> property provides the size, in bytes, of the data in its original unencoded form, and therefore this value shall not be directly compared with the size limit.</p>
</div>
<div class="paragraph">
<p><em>Example</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "content": {
    "encoding": "utf-8",
    "value": "encoded bytes from the file",
    "size": 457
  }
  ...
}</code></pre>
</div>
</div>
<table id="req_core_content" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 10</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/content</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For data whose resulting size in the encoded form is greater than 4 096 bytes, notifications SHALL NOT provide the data inline via <code>properties.content.value</code>. Note that the encoding may either enlarge the data size (for example, when binary data, such as BUFR, is Base64 encoded), or reduce the size (for example, when XML data are compressed with gzip).</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_core_content" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/core/content</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHOULD provide the <code>content</code> property, consisting of an <code>encoding</code> property (either <code>utf-8</code>, <code>base64</code> or <code>gzip</code>), a <code>value</code> property of the data and a <code>size</code> property with the length of the data.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_core_content" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 5</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/content</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For data whose resulting size (after possible compression) is less than 4 096 bytes, notifications MAY provide the data inline via <code>properties.content.value</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_1_16_links"><a class="anchor" href="#_1_16_links"></a>1.16 Links</h4>
<div class="paragraph">
<p>The <code>links</code> array property consists of one or more objects providing URLs to access data.</p>
</div>
<div class="paragraph">
<p>Each link object provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An <code>href</code> property with a fully qualified link to access the data;</p>
</li>
<li>
<p>A <code>rel</code> property providing an <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">IANA link relation</a> or <a href="http://codes.wmo.int/wis/link-type">WIS link type</a> describing the relationship between the link and the message;</p>
</li>
<li>
<p>A <code>type</code> property providing the media type of the data;</p>
</li>
<li>
<p>A <code>length</code> property providing the length (in bytes) indicating the size of the data;</p>
</li>
<li>
<p>A <code>security</code> property providing a description of the access control mechanism applied (for example, recommended data with restrictions).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Links are used to communicate new data or metadata notifications.  Links can also communicate when data or metadata have been deleted or invalidated.</p>
</div>
<div class="listingblock">
<div class="title">Example: Canonical link</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"links": [{
  "href": "https://example.org/data/4Pubsub/92c557ef-d28e-4713-91af-2e2e7be6f8ab.bufr4",
  "rel": "canonical",
  "type": "application/bufr"
}]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Multiple links</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"links": [{
  "href": "https://example.org/data/4Pubsub/92c557ef-d28e-4713-91af-2e2e7be6f8ab.bufr4",
  "rel": "canonical",
  "type": "application/bufr"
}, {
  "href": "https://example.org/oapi/collections/my-dataset/items/my-data-granule",
  "rel": "item",
  "type": "application/json"
}]</code></pre>
</div>
</div>
<table id="req_core_links" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Requirement 11</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/req/core/links</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHALL provide a <code>links</code> array property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>links</code> array property SHALL contain at least one link with, at a minimum, the <code>href</code> and <code>rel</code> properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The links for core data SHALL NOT require further action in order to download the resource.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The links SHALL be HTTP, HTTPS, FTP or SFTP.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For new data and metadata notifications, the <code>links</code> array property SHALL provide at least one link with an IANA link relation of <code>canonical</code> to clearly identify the preferred access link.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For data or metadata update notifications, the <code>links</code> array property SHALL provide at least one link with a link relation of <code>update</code> to clearly identify the preferred access link.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For data or metadata deletions, the <code>links</code> array property SHALL provide at least one link with a link relation of <code>deletion</code> to clearly identify data which has been deleted or removed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">H</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>For metadata deletions, the <code>properties.metadata_id</code> property SHALL be specified to support deletion of a WCMP2 record from the Global Discovery Catalogue.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="rec_core_links" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Recommendation 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/rec/core/links</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM SHOULD provide links using secure protocols such as HTTPS and SFTP, with HTTPS being the preferred option.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The <code>links</code> array property SHOULD provide a <code>length</code> property to communicate the size of a given data download in advance of a data download workflow, when the size of the data is known or can be easily derived.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>The link relation of <code>deletion</code> SHOULD NOT be used for communicating a rolling data archive.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="per_core_links" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 6</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/links</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM <code>links</code> array property MAY provide link objects which reference APIs or Web Accessible Folders (WAF).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_1_16_1_access_control"><a class="anchor" href="#_1_16_1_access_control"></a>1.16.1 Access control</h5>
<div class="paragraph">
<p>For recommended data, WNM links may also provide links to resources that implement access control in support of authentication and authorization. In secure data use cases, a user needs to be able to detect access-controlled data as part of data discovery and evaluation. The example demonstrates how to express access control using HTTP Basic authentication for a given data access service.</p>
</div>
<div class="listingblock">
<div class="title">Example: Access controlled link</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"links": [{
  "rel": "data",
  "type": "application/json",
  "title": "link to WAF endpoint",
  "href": "https://example.org/data/secure-data",
  "security": {
    "default": {
      "type": "http",
      "scheme": "basic",
      "description": "Please contact the data provider for accessing this secured resource."
    }
  }
}]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_1_17_additional_properties"><a class="anchor" href="#_1_17_additional_properties"></a>1.17 Additional properties</h4>
<div class="paragraph">
<p>A WIS2 Notification Message can be extended as required for organizational purposes by adding properties (of any type) in the message. Additional properties do not render a notification non-compliant with the provisions of this specification.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"properties": {
  ...
  "_comment": {
    "validationErrors": [
      "error 1",
      "error 2"
    ]
  }
  ...
}</code></pre>
</div>
</div>
<table id="per_core_additional_properties" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Permission 7</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p><strong>/per/core/additional_properties</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><div class="content"><div class="paragraph">
<p>A WNM MAY provide additional properties of any type in any part of the document as needed.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_wis2_notification_message_resources"><a class="anchor" href="#_2_wis2_notification_message_resources"></a>2. WIS2 notification message resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_2_1_wmo_codes_registry"><a class="anchor" href="#_2_1_wmo_codes_registry"></a>2.1 WMO Codes Registry</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://codes.wmo.int/wis/link-type" class="bare">http://codes.wmo.int/wis/link-type</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_2wmo_schemas_server"><a class="anchor" href="#_2_2wmo_schemas_server"></a>2.2	WMO schemas server</h3>
<div class="paragraph">
<p>Validation schemas, examples and other resources are published at <a href="https://schemas.wmo.int/wnm" class="bare">https://schemas.wmo.int/wnm</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance_class_abstract_test_suite_normative"><a class="anchor" href="#_conformance_class_abstract_test_suite_normative"></a>Annex A: Conformance Class Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_conformance_class_core"><a class="anchor" href="#_conformance_class_core"></a>Conformance Class: Core</h3>
<div id="ats_core" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p><a href="http://wis.wmo.int/spec/wnm/1/conf/core" class="bare">http://wis.wmo.int/spec/wnm/1/conf/core</a></p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>Requirements Class "core"</p>
</dd>
<dt class="hdlist1">classification</dt>
<dd>
<p>Target Type:Notification Metadata</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_message_size"><a class="anchor" href="#_message_size"></a>Message size</h4>
<div id="ats_core_message_size" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/message_size</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/message_size</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM has a valid message size.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the size of the complete WNM does not exceed 8192 bytes.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_validation"><a class="anchor" href="#_validation"></a>Validation</h4>
<div id="ats_core_validation" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/validation</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/validation</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM is valid to the authoritative WNM schema.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Run JSON Schema validation on the WNM against the WNM authoritative schema.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_identifier"><a class="anchor" href="#_identifier"></a>Identifier</h4>
<div id="ats_core_id" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/identifier</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/identifier</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM has a valid identifier.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of an <code>id</code> property in the WNM.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the <code>id</code> property is a valid UUID.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_conformance_2"><a class="anchor" href="#_conformance_2"></a>Conformance</h4>
<div id="ats_core_conformance" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/conformance</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/conformance</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM notification provides valid conformance information.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of a <code>conformsTo</code> property in the WNM notification.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>In the WNM notification&#8217;s <code>conformsTo</code> array property, check that ONE of the values is equal to <code>http://wis.wmo.int/spec/wnm/1/conf/core</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version"><a class="anchor" href="#_version"></a>Version</h4>
<div id="ats_core_version" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/identifier</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/identifier</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM has a valid version.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of an <code>version</code> property in the WNM.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the <code>id</code> property is equal to <code>v04</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_geometry"><a class="anchor" href="#_geometry"></a>Geometry</h4>
<div id="ats_core_geometry" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/geometry</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/geometry</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM provides a valid geometry property.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of one <code>geometry</code> property in the WNM.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that all <code>geometry.coordinates</code> value data types are integers or floats.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that <code>geometry.coordinates</code> longitudinal values are between -180 and 180.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that <code>geometry.coordinates</code> latitudinal values are between -90 and 90.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that <code>geometry</code> property is a valid GeoJSON geometry.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_properties_publication_time"><a class="anchor" href="#_properties_publication_time"></a>Properties / Publication Time</h4>
<div id="ats_core_pubtime" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/pubtime</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/pubtime</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM has a valid pubtime.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of an <code>properties.pubtime</code> property.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the <code>properties.pubtime</code> property is in RFC3339 format.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the <code>properties.pubtime</code> property is in the UTC timezone.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_properties_data_identification"><a class="anchor" href="#_properties_data_identification"></a>Properties / Data Identification</h4>
<div id="ats_core_data_id" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/data_id</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/data_id</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM has a valid data_id.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of an <code>data_id</code> property.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_properties_temporal_description"><a class="anchor" href="#_properties_temporal_description"></a>Properties / Temporal description</h4>
<div id="ats_core_temporal" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/temporal</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/temporal</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM provides a valid temporal description.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of one <code>properties.datetime</code> or both <code>properties.start_datetime</code> and <code>properties.end_datetime</code>.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the any of the <code>properties.datetime</code> or both <code>properties.start_datetime</code> and <code>properties.end_datetime</code> properties are in RFC3339 format.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the any of the <code>properties.datetime</code> or both <code>properties.start_datetime</code> and <code>properties.end_datetime</code> properties are in the UTC timezone.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_links"><a class="anchor" href="#_links"></a>Links</h4>
<div id="ats_core_links" class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>/conf/core/links</p>
</dd>
<dt class="hdlist1">subject</dt>
<dd>
<p>/req/core/links</p>
</dd>
<dt class="hdlist1">test-purpose</dt>
<dd>
<p>Validate that a WNM provides a link array property.</p>
</dd>
</dl>
</div>
<div class="exampleblock component">
<div class="content">
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check for the existence of a single <code>links</code> array property in the WNM.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the <code>links</code> array property provides a minimum of one link object.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>For each link object, check that the <code>href</code> property contains a valid protocol scheme of one of 'http', 'https', 'ftp', 'sftp'.</p>
</div>
</div>
</div>
<div class="openblock component">
<div class="content">
<div class="paragraph">
<p>Check that the <code>links</code> array property contains one link object with a <code>rel</code> property with one of the values <code>canonical</code>, <code>update</code>, <code>deletion</code> as well as an <code>href</code> property.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schemas"><a class="anchor" href="#schemas"></a>Annex B: Schemas (Normative)</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The schema document will only be published on <a href="https://schemas.wmo.int/wnm/1.0.0" class="bare">https://schemas.wmo.int/wnm/1.0.0</a> once the standard has been approved.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_wis2_notification_message_schema"><a class="anchor" href="#_wis2_notification_message_schema"></a>WIS2 Notification Message Schema</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">$schema: https://json-schema.org/draft/2020-12/schema
$id: https://raw.githubusercontent.com/wmo-im/wis2-notification-message/main/schemas/notificationMessageGeoJSON.yaml
title: WIS2 Notification Message Encoding
description: WIS2 Notification Message Encoding

type: object
properties:
  id: 
    type: string
    format: uuid
    description: UUID (RFC4122) - Guarantee uniqueness of the message over (at least) a 24h period.
  conformsTo:
    type: array
    contains:
      const: http://wis.wmo.int/spec/wnm/1/conf/core
  version:
    type: string
    description: DEPRECATED, please use `conformsTo`.
    const: v04
  type:
    type: string
    enum:
      - Feature
  geometry:
    oneOf:
      - enum:
        - null
      - $ref: 'https://raw.githubusercontent.com/opengeospatial/ogcapi-features/master/core/openapi/schemas/pointGeoJSON.yaml'
      - $ref: 'https://raw.githubusercontent.com/opengeospatial/ogcapi-features/master/core/openapi/schemas/polygonGeoJSON.yaml'
  properties:
    type: object
    properties:
      pubtime:
        type: string
        format: date-time
        description: |
          Identifies the date/time of when the file was posted/published, in RFC3339 format.
          The publication date/time is critical for subscribers to prevent message loss by knowing
          their lag (how far behind the publisher they are).
      data_id: 
        type: string
        description: |
         Unique identifier of the data as defined by the data producer.
         Data producers SHOULD NOT use an opaque id, but something meaningful to support client side filtering.
      metadata_id:
        type: string
        description: |
         Identifier for associated discovery metadata record to which the notification applies to.
         The identification SHOULD be from a WCMP2 discovery metadata record identifier from the WIS2
         Global Discovery Catalogue. Identifiers based on external catalogue systems MAY be articulated as additional links.
      producer:
        type: string
        description: |
          Identifies the provider that initially captured and processed the source data, in support of data distribution on behalf of other Members.
      datetime:
        type:
          - string
          - null
        format: date-time
        description: Identifies the date/time of the data being published, in RFC3339 format.
      start_datetime:
        type: string
        format: date-time
        description: Identifies the start date/time date of the data being published, in RFC3339 format.
      end_datetime:
        type: string
        format: date-time
        description: Identifies the end date/time date of the data being published, in RFC3339 format.
      cache:
        type: boolean
        description: |
          Whether the data in the notification should be cached (if not specified, the default value is `true`).
          When set to `false`, WIS2 Global Cache services do not cache the canonical link, and publish the
          notification with an unmodified canonical link (which points back to the endpoint as specified by the data producer).
          The notification is always published by the Global Cache regardless to the `cache` topic.
        default: true
      integrity:
        type: object
        description: Specifies a checksum to be applied to the data to ensure that the download is accurate.
        properties:
          method:
            type: string
            description: |
                A specific set of methods for calculating the checksum algorithms:
                * ``sha256``: the Secure Hash Algorithm 2, 256 bits, value is base64 encoded.
                * ``sha384``: the Secure Hash Algorithm 2, 384 bits, value is base64 encoded.
                * ``sha512``: the Secure Hash Algorithm 2, 512 bits, value is base64 encoded.
                * ``sha3-256``: the Secure Hash Algorithm 3, 256 bits, value is base64 encoded.
                * ``sha3-384``: the Secure Hash Algorithm 3, 384 bits, value is base64 encoded.
                * ``sha3-512``: the Secure Hash Algorithm 3, 512 bits, value is base64 encoded.
            enum:
              - sha256
              - sha384
              - sha512
              - sha3-256
              - sha3-384
              - sha3-512
          value:
            type: string
            contentEncoding: base64
            description: Checksum value.
        required:
          - method
          - value
      content:
        type: object
        description: Used to embed small products inline within the message.
        properties:
          encoding:
            type: string
            description: Encoding of content
            enum:
              - utf-8
              - base64
              - gzip
          size:
            type: integer
            maximum: 4096
            description: |
              Number of bytes contained in the file. Together with the ``integrity`` property, it provides additional assurance that file content was accurately received.
              Note that the limit takes into account the data encoding used, including data compression (for example `gzip`).
          value:
            type: string
            description: The inline content of the file.
            maxLength: 4096
        required:
          - encoding
          - size
          - value
    required:
      - pubtime
      - data_id
    oneOf:
      - allOf:
        - required:
          - start_datetime
          - end_datetime
      - allOf:
        - required:
          - datetime

  links:
    type: array
    minItems: 1
    items:
      allOf:
        - $ref: 'https://raw.githubusercontent.com/opengeospatial/ogcapi-features/master/core/openapi/schemas/link.yaml'
        - properties:
            security:
              type: object
              $ref: https://raw.githubusercontent.com/OAI/OpenAPI-Specification/3.1.0/schemas/v3.0/schema.yaml#/definitions/Components/properties/securitySchemes

oneOf:
  - required:
    - id
    - conformsTo
    - type
    - geometry
    - properties
    - links
  - required:
    - id
    - version
    - type
    - geometry
    - properties
    - links

example:
  $ref: https://raw.githubusercontent.com/wmo-im/wis2-notification-message/main/examples/example1.json</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Annex C: Examples (Informative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_wis2_notification_message_examples"><a class="anchor" href="#_wis2_notification_message_examples"></a>WIS2 Notification Message Examples</h3>
<div class="listingblock">
<div class="title">Example: single observation including meaningful geometry, observation datetime and content</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "31e9d66a-cd83-4174-9429-b932f1abe1be",
    "conformsTo": [
        "http://wis.wmo.int/spec/wnm/1/conf/core"
    ],
    "type": "Feature",
    "geometry": {
        "type": "Point",
        "coordinates": [
            6.146255135536194,
            46.223296618227444
        ]
    },
    "properties": {
        "pubtime": "2022-03-20T04:50:18Z",
        "datetime": "2022-03-20T04:45:00Z",
        "integrity": {
            "method": "sha512",
            "value": "A2KNxvks...S8qfSCw=="
        },
        "data_id": "dataset/123/data-granule/UANT01_CWAO_200445___15103.bufr4",
        "metadata_id": "urn:wmo:md:ca-eccc-msc:observations.swob",
        "content": {
            "encoding": "utf-8",
            "value": "encoded bytes from the file",
            "size": 457
        }
    },
    "links": [
        {
            "href": "https://example.org/data/4Pubsub/92c557ef-d28e-4713-91af-2e2e7be6f8ab.bufr4",
            "rel": "canonical",
            "type": "application/bufr"
        },
        {
            "href": "https://example.org/oapi/collections/my-dataset/items/my-data-granule",
            "rel": "item",
            "type": "application/json"
        }
    ]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: NWP product including polygon <code>geometry</code>, <code>start_datetime</code> and <code>end_datetime</code>.  The polygon is an array with 5 elements.  The first (and last) elements are most southwestern point of the rectangle using longitude and latitude and followed by other coordinates in a clockwise direction.</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "31e9d66a-cd83-4174-9429-b932f1abe1be",
    "conformsTo": [
        "http://wis.wmo.int/spec/wnm/1/conf/core"
    ],
    "type": "Feature",
    "geometry": {
        "type": "Polygon",
        "coordinates": [
            [
                [
                    -7.75,
                    40.43
                ],
                [
                    -7.75,
                    78.46
                ],
                [
                    71.91,
                    78.46
                ],
                [
                    71.91,
                    40.43
                ],
                [
                    -7.75,
                    40.43
                ]
            ]
        ]
    },
    "properties": {
        "pubtime": "2022-03-20T04:50:18Z",
        "start_datetime": "2022-03-20T00:06:00Z",
        "end_datetime": "2022-03-20T00:12:00Z",
        "integrity": {
            "method": "sha512",
            "value": "A2KNxvks...S8qfSCw=="
        },
        "data_id": "dataset/4546/abcdef-abcd-abcd-abcd-abcdefabcd",
        "metadata_id": "urn:wmo:md:fr-meteo-france:gap123"
    },
    "links": [
        {
            "href": "https://example.org/data/nwp/92c557ef-d28e-4713-91af-2e2e7be6f8ab.grib",
            "rel": "canonical",
            "type": "application/grib"
        }
    ]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: minimal viable message compliant to the specification</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "31e9d66a-cd83-4174-9429-b932f1abcdef",
    "conformsTo": [
        "http://wis.wmo.int/spec/wnm/1/conf/core"
    ],
    "type": "Feature",
    "geometry": null,
    "properties": {
        "pubtime": "2022-11-20T16:40:37Z",
        "datetime": "2022-11-11T11:11:11Z",
        "data_id": "data/data-123/items/abcdefab-abcd-1234-5678-0123456789ab",
        "metadata_id": "urn:wmo:md:test-nmhs-xyz:some_dataset",
        "cache": false
    },
    "links": [
        {
            "href": "https://example.org/92c557ef-d28e-4713-91af-2e2e7be6f8ab.txt",
            "rel": "canonical"
        }
    ]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: notification of the deletion of a data granule</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "31e9d66a-cd83-4174-9429-b932f1abcdef",
    "conformsTo": [
        "http://wis.wmo.int/spec/wnm/1/conf/core"
    ],
    "type": "Feature",
    "geometry": null,
    "properties": {
        "pubtime": "2022-12-22T16:40:37Z",
        "datetime": "2022-11-11T11:11:11Z",
        "data_id": "data/data-123/items/abcdefab-abcd-1234-5678-0123456789ab",
        "metadata_id": "urn:wmo:md:test-nmhs-xyz:some_dataset",
        "cache": false
    },
    "links": [
        {
            "href": "https://example.org/92c557ef-d28e-4713-91af-2e2e7be6f8ab.txt",
            "rel": "deletion"
        }
    ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Annex D: Bibliography</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="SDWBP"></a> W3C/OGC: Spatial Data on the Web Best Practices, W3C Working Group Note 28 September 2017, <a href="https://www.w3.org/TR/sdw-bp" class="bare">https://www.w3.org/TR/sdw-bp</a></p>
</li>
<li>
<p><a id="DWBP"></a> W3C: Data on the Web Best Practices, W3C Recommendation 31 January 2017, <a href="https://www.w3.org/TR/dwbp" class="bare">https://www.w3.org/TR/dwbp</a></p>
</li>
<li>
<p><a id="link-relations"></a> IANA: Link Relation Types, <a href="https://www.iana.org/assignments/link-relations/link-relations.xml" class="bare">https://www.iana.org/assignments/link-relations/link-relations.xml</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Annex E: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12%;">
<col style="width: 18%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 46%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2022-12-05</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Template</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Tom Kralidis</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">update from TT-Protocols/ET-W2AT</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://community.wmo.int/governance/commission-membership/commission-observation-infrastructures-and-information-systems-infcom/commission-infrastructure-officers/infcom-management-group/standing-committee-information-management-and-technology-sc-imt" class="bare">https://community.wmo.int/governance/commission-membership/commission-observation-infrastructures-and-information-systems-infcom/commission-infrastructure-officers/infcom-management-group/standing-committee-information-management-and-technology-sc-imt</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://community.wmo.int/governance/commission-membership/infcom" class="bare">https://community.wmo.int/governance/commission-membership/infcom</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://ogcapi.ogc.org/features" class="bare">https://ogcapi.ogc.org/features</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://datatracker.ietf.org/doc/html/rfc7946" class="bare">https://datatracker.ietf.org/doc/html/rfc7946</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="https://www.w3.org/TR/dwbp" class="bare">https://www.w3.org/TR/dwbp</a>
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. <a href="https://www.w3.org/TR/sdw-bp" class="bare">https://www.w3.org/TR/sdw-bp</a>
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. <a href="https://en.wikipedia.org/wiki/FAIR_data" class="bare">https://en.wikipedia.org/wiki/FAIR_data</a>
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. <a href="https://library.wmo.int/doc_num.php?explnum_id=11113#page=9" class="bare">https://library.wmo.int/doc_num.php?explnum_id=11113#page=9</a>
</div>
<div class="footnote" id="_footnotedef_9">
<a href="#_footnoteref_9">9</a>. <a href="https://docs.opengeospatial.org/is/17-069r4/17-069r4.html" class="bare">https://docs.opengeospatial.org/is/17-069r4/17-069r4.html</a>
</div>
<div class="footnote" id="_footnotedef_10">
<a href="#_footnoteref_10">10</a>. <a href="https://datatracker.ietf.org/doc/html/rfc7946" class="bare">https://datatracker.ietf.org/doc/html/rfc7946</a>
</div>
<div class="footnote" id="_footnotedef_11">
<a href="#_footnoteref_11">11</a>. <a href="https://datatracker.ietf.org/doc/html/rfc8259" class="bare">https://datatracker.ietf.org/doc/html/rfc8259</a>
</div>
<div class="footnote" id="_footnotedef_12">
<a href="#_footnoteref_12">12</a>. <a href="https://datatracker.ietf.org/doc/html/rfc3339" class="bare">https://datatracker.ietf.org/doc/html/rfc3339</a>
</div>
<div class="footnote" id="_footnotedef_13">
<a href="#_footnoteref_13">13</a>. <a href="https://datatracker.ietf.org/doc/html/rfc4122" class="bare">https://datatracker.ietf.org/doc/html/rfc4122</a>
</div>
<div class="footnote" id="_footnotedef_14">
<a href="#_footnoteref_14">14</a>. <a href="https://www.w3.org/TR/sdw-bp" class="bare">https://www.w3.org/TR/sdw-bp</a>
</div>
<div class="footnote" id="_footnotedef_15">
<a href="#_footnoteref_15">15</a>. <a href="https://www.w3.org/TR/dwbp" class="bare">https://www.w3.org/TR/dwbp</a>
</div>
<div class="footnote" id="_footnotedef_16">
<a href="#_footnoteref_16">16</a>. <a href="https://www.w3.org/TR/vocab-dcat" class="bare">https://www.w3.org/TR/vocab-dcat</a>
</div>
<div class="footnote" id="_footnotedef_17">
<a href="#_footnoteref_17">17</a>. <a href="https://www.iana.org/assignments/link-relations/link-relations.xml" class="bare">https://www.iana.org/assignments/link-relations/link-relations.xml</a>
</div>
<div class="footnote" id="_footnotedef_18">
<a href="#_footnoteref_18">18</a>. <a href="https://json-schema.org" class="bare">https://json-schema.org</a>
</div>
<div class="footnote" id="_footnotedef_19">
<a href="#_footnoteref_19">19</a>. <a href="https://github.com/wmo-im/wis2-topic-hierarchy" class="bare">https://github.com/wmo-im/wis2-topic-hierarchy</a>
</div>
<div class="footnote" id="_footnotedef_20">
<a href="#_footnoteref_20">20</a>. <a href="https://json-schema.org" class="bare">https://json-schema.org</a>
</div>
<div class="footnote" id="_footnotedef_21">
<a href="#_footnoteref_21">21</a>. <a href="https://en.wikipedia.org/wiki/YAML" class="bare">https://en.wikipedia.org/wiki/YAML</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-23 02:06:25 UTC
</div>
</div>
</body>
</html>